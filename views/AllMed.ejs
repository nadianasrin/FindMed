<%- include('partials/Nav'); -%>

<div style="display: flex; justify-content: center; align-items: center; flex-direction: column;">

  <div class="basic-med-wrapper">
    <div class="basic-med container">
      <h4 class="left-align section-heading">All Medicines</h4>
      <div class="med-card-wrapper">
        <% meds.map(med => { %>
          <%- include("partials/MedCard", {med}) -%> 
        <% }) %>
      </div>
   </div>
  </div>

  <% if (pages > 0) { %>
    <ul class="pagination text-center">
        <% if (current == 1) { %>
            <li class="disabled"><a>First</a></li>
        <% } else { %>
            <li><a href="/meds/page/1">First</a></li>
        <% } %>
        <% var i = (Number(current) > 5 ? Number(current) - 4 : 1) %>
        <% if (i !== 1) { %>
            <li class="disabled"><a>...</a></li>
        <% } %>
        <% for (; i <= (Number(current) + 4) && i <= pages; i++) { %>
            <% if (i == current) { %>
                <li class="active"><a><%= i %></a></li>
            <% } else { %>
                <li><a href="/meds/page/<%= i %>"><%= i %></a></li>
            <% } %>
            <% if (i == Number(current) + 4 && i < pages) { %>
                <li class="disabled"><a>...</a></li>
            <% } %>
        <% } %>
        <% if (current == pages) { %>
            <li class="disabled"><a>Last</a></li>
        <% } else { %>
            <li><a href="/meds/page/<%= pages %>">Last</a></li>
        <% } %>
      </ul>
  <% } %>


</div>


